<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Synap  Demo - IOTA Payments</title>

  <link rel="stylesheet" href="/styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/@zxing/library@0.20.0/umd/index.min.js" defer></script>
  <script src="/app.js" defer></script>
</head>
<body>
  <header class="topbar">
    <div class="brand">i <span class="accent">Synap </span></div>
  </header>

  <section id="view-login" class="view active">
    <h1>Accedi al tuo account</h1>
    <form id="login-form" class="card">
      <label>Email</label>
      <input type="email" id="email" placeholder="email@esempio.com" required />
      <label>Password</label>
      <input type="password" id="password" placeholder="••••••••" required />
      <button type="submit" class="btn primary">ACCEDI</button>
    </form>
  </section>

  <section id="view-scan" class="view">
    <div class="back-row"><button class="link" onclick="location.reload()">← Esci</button></div>
    <h2>Check-in: Sali sul Bus</h2>
    <video id="qr-video" class="qr-box" autoplay playsinline></video>
    <div id="scan-status" class="hint">Inquadra QR (IN-...)</div>
    
    <div class="manual-entry">
      <input id="manual-code" placeholder="Es. BUS01 (Auto IN-)" />
      <button class="btn" id="manual-btn">Conferma Entrata</button>
    </div>
  </section>

  <section id="view-monitor" class="view">
    <h2>In Viaggio...</h2>
    <div class="bus"></div> <div class="stats">
      <div class="stat">
        <div class="label">Chilometri</div>
        <div class="val"><span id="km">0.000</span> <small>KM</small></div>
      </div>
      <div class="stat">
        <div class="label">Totale</div>
        <div class="val"><span id="eur">0.00</span> <small>€</small></div>
      </div>
    </div>
    <button class="btn primary big" id="end-trip">TERMINA CORSA</button>
  </section>

  <section id="view-finish-scan" class="view">
    <h2>Check-out: Scendi dal Bus</h2>
    <video id="qr-video-finish" class="qr-box" autoplay playsinline></video>
    <div id="finish-status" class="hint">Inquadra QR (OUT-...)</div>
    
    <div class="manual-entry">
      <input id="manual-code-finish" placeholder="Es. BUS01 (Auto OUT-)" />
      <button class="btn" id="manual-btn-finish">Paga e Scendi</button>
    </div>
    
    <button class="btn danger" id="cancel-finish">ANNULLA (Torna al monitor)</button>
  </section>

</body>
</html>